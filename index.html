<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>加班 熬夜 不秃顶</title>
    <link
      rel="icon"
      type="image/ico"
      href="./blogs/attachment/20200827/3f0f43cd68144245bdf91e7d42590991.gif"
    />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="prefetch" type="image/ico" href="./img/bg2.jpg" />
    <style>
      body {
        display: flex;
        flex-direction: column;
        height: 100vh;
        justify-content: center;
        align-items: center;
        margin: 0;
        background: linear-gradient(
            rgba(16, 16, 16, 0.8),
            rgba(16, 16, 16, 0.8)
          ),
          url("./img/bg2.jpg") no-repeat;

        background-size: cover;
        background-position: center 0;
        /* min-width: 1200px; */
        width: 100%;
      }
    </style>
    <script src="./js/index.js"></script>
    <script>
      function init() {
        let glowInTexts = document.querySelectorAll(".glowIn");
        glowInTexts.forEach((glowInText) => {
          let letters = glowInText.textContent.split("");
          glowInText.textContent = "";
          letters.forEach((letter, i) => {
            let span = document.createElement("span");
            span.textContent = letter;
            span.style.animationDelay = `${i * 0.05}s`;
            glowInText.append(span);
          });
        });
        console.log("123");
      }
      setTimeout(() => {
        init();
      }, 10);
      setTimeout(() => {
        window.location='./blogs/index.htm'
      }, 10000);

    </script>
  </head>
  <body>
    <h1 class="glowIn">Hello World</h1>
    <p class="glowIn">
      In the prosperous city, here is your warm harbor. Putting down your day’s
      work and brewing a cup of tea, you can drive away your day’s fatigue here.
    </p>

    <dialog id="confirm-modal" class="modal">
      <div class="modal-content">
        <svg
          t="1574164208713"
          class="model-icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="5819"
          width="63"
          height="63"
        >
          <path
            d="M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0zM512 877.714286c-40.228571 0-73.142857-32.914286-73.142857-73.142857s32.914286-73.142857 73.142857-73.142857 73.142857 32.914286 73.142857 73.142857S552.228571 877.714286 512 877.714286zM585.142857 512c0 40.228571-32.914286 73.142857-73.142857 73.142857s-73.142857-32.914286-73.142857-73.142857L438.857143 219.428571c0-40.228571 32.914286-73.142857 73.142857-73.142857s73.142857 32.914286 73.142857 73.142857L585.142857 512z"
            p-id="5820"
            fill="white"
          ></path>
        </svg>
        <h2 class="modal-title">Are you sure?</h2>
        <p class="modal-description">Whether to enter the website?</p>
        <div class="modal-options">
          <button
            class="btn btn-round btn-fill btn-fill-left option confirm"
            data-text="Yes"
            onclick="document.querySelector('#confirm-modal').close(),window.location='./blogs/index.htm'"
          ></button>
          <button
            class="btn btn-round btn-fill btn-fill-right option cancel"
            data-text="No"
            onclick="document.querySelector('#confirm-modal').close()"
          ></button>
        </div>
      </div>
    </dialog>
    <form action="javascript:void(0);">
      <!-- <button class="btn btn-danger">Delete history</button> -->
      <button
        class="btn btn-primary btn-ghost btn-shine"
        onclick="document.querySelector('#confirm-modal').showModal()"
      >
        hover me
      </button>
    </form>
    <script>
      //构建Promise异步对象，通过多种方式实现图片预加载
      function loadImage(src) {
        var p = new Promise(function (resolve, reject) {
          var img = new Image();
          img.onload = function () {
            resolve(img);
          };
          img.onerror = function () {
            reject(src);
          };
          img.src = src;
        });
        return p;
      }

      // 第一种方式,通过Promise.all()实现
      var arr = [];
      //图片命名从3-到79-，所以循环从3开始到80结束

      var p = loadImage("./img/bg2.jpg");
      arr.push(p);

      console.log(arr);
      Promise.all(arr).then(function (list) {
        list.forEach((item) => {
          console.log(item.width, item.src);
        });
      });
    </script>
  </body>
</html>
